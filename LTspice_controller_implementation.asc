Version 4
SHEET 1 2728 1360
WIRE 1824 256 80 256
WIRE 1888 256 1824 256
WIRE -128 304 -128 272
WIRE -128 416 -128 384
WIRE -128 416 -176 416
WIRE 1520 416 1424 416
WIRE 1744 416 1616 416
WIRE 1808 416 1744 416
WIRE -128 448 -128 416
WIRE 1424 448 1424 416
WIRE 1744 480 1744 416
WIRE 1888 480 1888 256
WIRE 1808 496 1808 416
WIRE 1840 496 1808 496
WIRE 1840 544 1808 544
WIRE -128 560 -128 528
WIRE 80 560 80 256
WIRE 224 560 80 560
WIRE 336 560 304 560
WIRE 400 560 336 560
WIRE 512 560 480 560
WIRE 560 560 512 560
WIRE 736 560 640 560
WIRE 768 560 736 560
WIRE 896 560 848 560
WIRE 992 560 960 560
WIRE 1040 560 992 560
WIRE 1152 560 1120 560
WIRE 1216 560 1152 560
WIRE 1328 560 1296 560
WIRE 1424 560 1424 528
WIRE 1744 592 1744 560
WIRE 1808 592 1808 544
WIRE 400 624 400 608
WIRE 1216 624 1216 608
WIRE 400 640 400 624
WIRE 800 640 800 624
WIRE 1216 640 1216 624
WIRE 336 656 336 560
WIRE 368 656 336 656
WIRE 800 656 800 640
WIRE 1152 656 1152 560
WIRE 1184 656 1152 656
WIRE 1888 656 1888 560
WIRE 480 672 432 672
WIRE 512 672 512 560
WIRE 512 672 480 672
WIRE 560 672 512 672
WIRE 736 672 736 560
WIRE 736 672 624 672
WIRE 768 672 736 672
WIRE 1296 672 1248 672
WIRE 1328 672 1328 560
WIRE 1328 672 1296 672
WIRE 1376 672 1328 672
WIRE 1568 672 1568 480
WIRE 1568 672 1456 672
WIRE 1888 672 1888 656
WIRE -80 688 -240 688
WIRE 224 688 -80 688
WIRE 336 688 304 688
WIRE 368 688 336 688
WIRE 992 688 992 560
WIRE 992 688 832 688
WIRE 1184 688 1152 688
WIRE 768 704 736 704
WIRE -240 720 -240 688
WIRE 400 720 400 704
WIRE 1152 720 1152 688
WIRE 1216 720 1216 704
WIRE 336 736 336 688
WIRE 400 736 400 720
WIRE 800 736 800 720
WIRE 736 752 736 704
WIRE 800 752 800 736
WIRE 1888 784 1888 752
WIRE -240 848 -240 800
WIRE 336 848 336 816
FLAG 1888 784 0
FLAG 1824 256 Uactual
FLAG -176 416 0
FLAG -128 272 V+
FLAG -128 560 V-
FLAG 400 624 V+
FLAG 400 720 V-
FLAG 336 848 0
FLAG -240 848 0
FLAG 800 640 V+
FLAG 800 736 V-
FLAG 736 752 0
FLAG 1296 672 Uc
FLAG 1216 624 V+
FLAG 1152 720 0
FLAG 1808 592 0
FLAG 1424 560 0
FLAG 1744 592 0
FLAG -80 688 Uref
FLAG 1888 656 Ud
FLAG 480 672 Ue
FLAG 1216 720 0
SYMBOL voltage -128 288 R0
SYMATTR InstName V2
SYMATTR Value 15
SYMBOL voltage -128 432 R0
SYMATTR InstName V3
SYMATTR Value 15
SYMBOL res 320 544 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value 1k
SYMBOL res 496 544 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R6
SYMATTR Value 1k
SYMBOL res 320 672 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value 1k
SYMBOL res 352 832 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R4
SYMATTR Value 1k
SYMBOL voltage -240 704 R0
SYMATTR InstName V4
SYMATTR Value PWL(0 0 19.99m 0 20m {Ur+UBE})
SYMBOL res 656 544 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 10k
SYMBOL cap 960 544 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C2
SYMATTR Value 4.55n
SYMBOL res 864 544 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value 24.73k
SYMBOL cap 624 656 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C1
SYMATTR Value 11.25n
SYMBOL res 1312 544 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R8
SYMATTR Value 10k
SYMBOL voltage 1888 656 R0
SYMATTR InstName Vdisturbance
SYMATTR Value SINE(0.5 0.5 100 20m)
SYMBOL e 1888 464 R0
SYMATTR InstName E1
SYMATTR Value Laplace=( ( b1*s + b0 )/( a2*s**2 + a1*s + a0 ) )
SYMBOL voltage 1424 432 R0
SYMATTR InstName V1
SYMATTR Value 15
SYMBOL npn 1520 480 R270
WINDOW 0 56 32 Left 2
WINDOW 3 56 68 Left 2
SYMATTR InstName Q1
SYMATTR Value BC547C
SYMBOL res 1360 688 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R9
SYMATTR Value 1k
SYMBOL res 1760 576 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R10
SYMATTR Value {Rvar}
SYMBOL res 1136 544 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R7
SYMATTR Value 10k
SYMBOL Opamps/LT1413 1216 608 R0
SYMATTR InstName U3
SYMBOL Opamps/LT1413 400 608 R0
SYMATTR InstName U1
SYMBOL Opamps/LT1413 800 624 R0
SYMATTR InstName U2
TEXT 2216 352 Left 2 !.param b0=1.0477e7\n.param b1=73.7643\n.param a0=2.1085e7\n.param a1=342.893\n.param a2=1
TEXT 120 424 Left 2 !.tran 0 80m 100u
TEXT 120 376 Left 2 ;.step dec param Rvar 100 100k 3
TEXT 816 744 Left 2 ;KP=R2/R1 + C1/C2\nKI=1/(R1*C2)\nKD=R2*C1
TEXT -136 632 Left 2 ;reference input
TEXT 120 288 Left 2 !.param Ur=5.0\n.param UBE=0.7
TEXT 2000 312 Left 2 ;plant model
TEXT 1464 312 Left 2 ;actuator
TEXT 2192 720 Left 2 ;possible disturbances
TEXT 648 472 Left 2 ;inverting PID controller
TEXT 1032 472 Left 2 ;inverting amplifier with gain 1
TEXT 248 472 Left 2 ;difference calculation
TEXT 1368 744 Left 2 ;common collector\nconfiguration\nacting as an actuator
TEXT 912 240 Left 2 ;feedback
TEXT 536 832 Left 2 ;designed via Ziegler-Nichols open-loop method
TEXT 120 352 Left 2 !.param Rvar=100
RECTANGLE Normal 528 488 1028 816 2
RECTANGLE Normal 524 488 192 904 2
RECTANGLE Normal 1032 488 1352 816 2
RECTANGLE Normal 1356 816 1652 328 2
RECTANGLE Normal 1656 328 2464 624 2
RECTANGLE Normal 1656 632 2180 816 2
RECTANGLE Normal -296 648 172 904 2
